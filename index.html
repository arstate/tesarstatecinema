<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arstate Cinema - Jasa Videografi & Fotografi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Swiper.js CSS -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <style>
        /* Pengaturan Font dan Warna Utama */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #0a192f; /* Biru Navy Gelap */
            color: #e6f1ff; /* Teks Putih Kebiruan */
            overflow-x: hidden; /* Mencegah scroll horizontal selama animasi */
            transition: background-color 0.5s ease-in-out, color 0.5s ease-in-out; /* Transisi Tema */
        }

        /* Scrollbar Halaman dibuat transparan */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb {
            background-color: var(--accent-yellow);
            border-radius: 20px;
        }
        ::-webkit-scrollbar-thumb:hover { background-color: #fde047; }

        :root {
            --navy-blue: #0a192f;
            --accent-yellow: #facc15;
            --text-light: #e6f1ff;
            --text-slate: #8892b0;
        }

        /* Efek Gradasi pada Teks */
        .text-gradient {
            background: linear-gradient(90deg, var(--accent-yellow), #f59e0b);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            background-clip: text; text-fill-color: transparent;
            transition: background 0.5s ease-in-out; /* Transisi Tema */
        }

        /* Styling Tombol */
        .btn-primary {
            background-color: var(--accent-yellow); color: var(--navy-blue);
            transition: all 0.4s ease; box-shadow: 0 4px 15px rgba(250, 204, 21, 0.2);
        }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 7px 20px rgba(250, 204, 21, 0.4); }
        .btn-secondary {
            border: 1px solid var(--accent-yellow); color: var(--accent-yellow);
            transition: all 0.4s ease;
        }
        .btn-secondary:hover { background-color: rgba(250, 204, 21, 0.1); transform: translateY(-3px); }

        /* Styling Kartu Portofolio */
        .portfolio-card {
            position: relative; overflow: hidden; border-radius: 0.75rem;
            box-shadow: 0 10px 30px -15px rgba(2,12,27,0.7);
            transition: transform 0.4s ease; cursor: pointer;
        }
        .portfolio-card:hover { transform: translateY(-8px); }
        .portfolio-card .overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to top, rgba(10, 25, 47, 0.95), rgba(10, 25, 47, 0.1));
            transition: background 0.5s ease-in-out; /* Transisi Tema */
        }
        .portfolio-card .card-content {
            position: absolute; bottom: 0; left: 0; width: 100%; padding: 1.5rem;
            transform: translateY(100%); opacity: 0;
            transition: transform 1.2s cubic-bezier(0.23, 1, 0.32, 1), opacity 1.2s cubic-bezier(0.23, 1, 0.32, 1);
        }
        .portfolio-card:hover .card-content,
        #featured-portfolio .swiper-slide-active .portfolio-card .card-content {
            transform: translateY(0); opacity: 1;
        }
        
        /* Transisi Halaman */
        .page {
            transition: opacity 0.8s cubic-bezier(0.23, 1, 0.32, 1), transform 0.8s cubic-bezier(0.23, 1, 0.32, 1), background-color 0.5s ease-in-out; /* Transisi Tema */
            position: relative; z-index: 1;
            width: 100%; /* Memastikan lebar halaman tidak melebihi viewport */
            overflow-x: hidden; /* Mencegah scroll horizontal yang tidak diinginkan */
        }
        .page.hidden {
            opacity: 0; transform: translateY(80px);
            pointer-events: none; position: absolute; width: 100%;
        }

        /* Swiper Slider Styles */
        #featured-portfolio .swiper-wrapper { align-items: center; }
        #featured-portfolio .swiper-slide {
            transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            transform: scale(0.65); opacity: 0.5;
        }
        #featured-portfolio .swiper-slide-active { transform: scale(1.05); opacity: 1; }
        .swiper-pagination-bullet { background-color: #4a5568; opacity: 0.7; transition: all 0.3s ease; }
        .swiper-pagination-bullet-active { background-color: var(--accent-yellow); transform: scale(1.2); opacity: 1; }
        .slider-controls { display: flex; justify-content: center; align-items: center; gap: 1.5rem; margin-top: 2.5rem; }
        .slider-controls .swiper-button-next, .slider-controls .swiper-button-prev {
            position: static; margin: 0; width: 44px; height: 44px; color: var(--accent-yellow);
            background-color: rgba(10, 25, 47, 0.5); border-radius: 50%; backdrop-filter: blur(5px); transition: all 0.3s ease;
        }
        .slider-controls .swiper-button-next:hover, .slider-controls .swiper-button-prev:hover {
            background-color: rgba(10, 25, 47, 0.8); transform: scale(1.1);
        }
        .slider-controls .swiper-pagination { position: static; width: auto; }
        .slider-controls .swiper-button-next::after, .slider-controls .swiper-button-prev::after { font-size: 20px; }


        /* Animasi Perpindahan Halaman */
        .animatable { transition: transform 1s cubic-bezier(0.6, -0.28, 0.735, 0.045), opacity 1s cubic-bezier(0.6, -0.28, 0.735, 0.045); }
        #main-page.is-animating-out .hero-anim, #main-page.is-animating-out .portfolio-title-anim { transform: translateY(-100px); opacity: 0; }
        #main-page.is-animating-out .services-anim, #main-page.is-animating-out .contact-anim, #main-page.is-animating-out .portfolio-controls-anim { transform: translateY(100px); opacity: 0; }
        #main-page.is-animating-out .footer-anim { transform: translateY(100%); opacity: 0; }
        #main-page.is-animating-out .swiper-slide .portfolio-card { transform: translateX(-110vw) !important; opacity: 1 !important; transition: transform 1s cubic-bezier(0.6, -0.28, 0.735, 0.045) !important; }
        #main-page.is-animating-out .swiper-slide-active .portfolio-card { transform: translateY(110vh) !important; }
        #main-page.is-animating-out .swiper-slide-active ~ .swiper-slide .portfolio-card { transform: translateX(110vw) !important; }
        #main-page.is-animating-in .animatable { opacity: 0; }
        #main-page.is-animating-in .hero-anim, #main-page.is-animating-in .portfolio-title-anim { transform: translateY(-100px); }
        #main-page.is-animating-in .services-anim, #main-page.is-animating-in .contact-anim, #main-page.is-animating-in .portfolio-controls-anim { transform: translateY(100px); }
        #main-page.is-animating-in .footer-anim { transform: translateY(100%); }
        /* PERUBAHAN: Animasi kartu portofolio saat kembali dihapus, akan dikontrol oleh JS */
        #portfolio-detail-page .detail-anim { opacity: 0; transform: translateY(50px); transition: opacity 1s cubic-bezier(0.23, 1, 0.32, 1), transform 1s cubic-bezier(0.23, 1, 0.32, 1); }
        #portfolio-detail-page.visible .detail-anim { opacity: 1; transform: translateY(0); }
        #portfolio-detail-page.visible .detail-text-anim { transition-delay: 0.6s; }
        #portfolio-detail-page.visible .detail-gallery-anim { transition-delay: 0.7s; }
        #portfolio-detail-page.is-animating-out .detail-anim { transition: transform 1s cubic-bezier(0.6, -0.28, 0.735, 0.045), opacity 0.8s ease-out; }
        #portfolio-detail-page.is-animating-out .detail-text-anim { transform: translateY(-100%); opacity: 0 !important; }
        #portfolio-detail-page.is-animating-out .detail-gallery-anim { transform: translateY(100%); opacity: 0 !important; }

        /* BUG FIX: Mencegah "lompatan" layout saat transisi halaman (TARGETING <html>) */
        html.is-transitioning {
            overflow: hidden;
            padding-right: var(--scrollbar-width, 0px); /* Fallback ke 0px */
        }
        html.is-transitioning #navbar {
             padding-right: var(--scrollbar-width, 0px); /* Fallback ke 0px */
        }

        /* PERBAIKAN BUG: Mencegah "scrollbar hantu" di halaman utama saat transisi */
        html.is-transitioning #main-page {
            overflow: hidden !important;
        }

        /* --- STYLING GALERI GRID DETAIL --- */
        #detail-gallery-grid, #service-detail-gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            grid-auto-rows: 250px;
            gap: 1rem;
        }
        .gallery-item {
            overflow: hidden;
            border-radius: 0.5rem;
            box-shadow: 0 10px 30px -15px rgba(2,12,27,0.7);
        }
        .gallery-item img {
            width: 100%; height: 100%; object-fit: cover;
            transition: transform 0.4s ease; cursor: pointer;
        }
        .gallery-item:hover img { transform: scale(1.1); }
        
        /* Tata Letak Mosaik */
        @media (min-width: 768px) {
            #detail-gallery-grid, #service-detail-gallery-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            .gallery-item:nth-child(11n+1) { grid-column: span 2; grid-row: span 2; }
            .gallery-item:nth-child(11n+4) { grid-row: span 2; }
            .gallery-item:nth-child(11n+8) { grid-column: span 2; }
        }

        /* --- STYLING SERVICE GALLERY PAGE (REVISED) --- */
        .service-gallery-swiper .swiper-wrapper {
            align-items: center; /* Vertically center the slides */
        }
        .service-gallery-swiper .swiper-slide {
            aspect-ratio: 3 / 4.2;
            width: 60% !important; /* Adjust width for portrait view */
            transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            transform: scale(0.75);
            opacity: 0.5;
        }
        @media (min-width: 768px) {
            .service-gallery-swiper .swiper-slide {
                width: 28% !important;
            }
        }
        .service-gallery-swiper .swiper-slide-active {
            transform: scale(1);
            opacity: 1;
        }

        .service-gallery-card {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
            border-radius: 0.75rem;
            box-shadow: 0 10px 30px -15px rgba(2,12,27,0.7);
            cursor: pointer; /* Menambahkan kursor pointer */
        }
        .service-gallery-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .service-gallery-card .overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to top, rgba(10, 25, 47, 0.8), rgba(10, 25, 47, 0.0));
            transition: background 0.5s ease-in-out; /* Transisi Tema */
        }
        .service-gallery-card .card-content {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 1.5rem;
            text-align: center;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease 0.2s, transform 0.6s ease 0.2s;
        }
        .swiper-slide-active .service-gallery-card .card-content {
            opacity: 1;
            transform: translateY(0);
        }


        /* Styling untuk canvas bubble */
        #bubble-canvas-container canvas {
            background-color: transparent !important;
            cursor: grab;
        }
         #bubble-canvas-container canvas:active {
            cursor: grabbing;
        }

        /* --- STYLING KLIEN SLIDER (REVISED FOR PURE CSS MARQUEE) --- */
        .client-swiper {
            overflow: hidden;
            -webkit-mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
            mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
            position: relative;
            padding-top: 10px; /* Menambah ruang vertikal untuk efek hover */
            padding-bottom: 10px; /* Menambah ruang vertikal untuk efek hover */
        }
        .client-swiper .swiper-wrapper {
            display: flex;
            flex-wrap: nowrap;
            /* Durasi disesuaikan untuk 20 logo */
            animation: marquee 60s linear infinite;
            align-items: center;
            /* Menambahkan optimisasi untuk browser */
            will-change: transform;
        }
        .client-swiper:hover .swiper-wrapper {
            animation-play-state: paused;
        }
        @keyframes marquee {
            from { transform: translateX(0); }
            /* Menggunakan kalkulasi piksel yang pasti untuk menghindari lompatan */
            /* 20 logo * (120px lebar + 50px padding) = 3400px */
            to { transform: translateX(-3400px); }
        }
        .client-swiper .swiper-slide {
            width: auto;
            flex-shrink: 0;
            padding: 0 25px; /* Menggantikan spaceBetween */
        }
        .client-logo {
            height: 120px;
            width: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(255, 255, 255, 0.03);
            border-radius: 0.75rem;
            color: var(--text-slate);
            filter: grayscale(100%) brightness(0.8);
            opacity: 0.6;
            transition: all 0.4s ease;
            font-size: 0.8rem;
            text-align: center;
            padding: 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .client-swiper .swiper-slide:hover .client-logo {
            filter: grayscale(0%) brightness(1);
            opacity: 1;
            transform: scale(1.05);
            background-color: rgba(255, 255, 255, 0.08);
            border-color: rgba(250, 204, 21, 0.3);
        }

        /* Styling Navbar Hide/Show on Scroll (DIHAPUS) */
        #navbar {
            transition: transform 0.4s ease-in-out;
        }
        /*
        #navbar.navbar-hidden {
            transform: translateY(-100%);
        }
        */

        /* BUG FIX: Class untuk mematikan interaksi mouse sementara */
        .slider-interactions-disabled {
            pointer-events: none;
        }

        /* Styling Efek Kucing Kursor */
        #cat-cursor-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 70px; /* Lebar gambar PNG */
            height: 70px; /* Tinggi gambar PNG */
            transform-origin: center center;
            will-change: transform;
            pointer-events: none;
            z-index: 9999;
            /* Offset untuk menengahkan gambar pada titik fisika */
            margin-left: -35px; /* -(lebar/2) */
            margin-top: -35px; /* -(tinggi/2) */
            transition: opacity 0.3s ease;
            opacity: 0;
        }

        #cat-cursor-container img {
            width: 100%;
            height: 100%;
        }

        #rope-canvas {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 9998; /* Di bawah kucing */
        }
        
        /* Styling untuk Video Background Fullscreen */
        #hero-video-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
            overflow: hidden; /* Sembunyikan bagian video yang meluber */
        }

        #hero-video-background iframe {
            /* Trik untuk membuat video 16:9 menutupi semua area */
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100vw;
            height: calc(100vw * 9 / 16);
            min-height: 100vh;
            min-width: calc(100vh * 16 / 9);
            transform: translate(-50%, -50%);
        }
        
        /* Efek Hover untuk Frame di Halaman Tentang Kami */
        .interactive-frame {
            transition: box-shadow 0.4s ease, border-color 0.4s ease, background-color 0.5s ease-in-out; /* Transisi Tema */
        }
        .interactive-frame:hover {
            border-color: rgba(250, 204, 21, 0.4);
            box-shadow: 0 0 25px rgba(250, 204, 21, 0.15);
        }

        /* Sembunyikan di perangkat mobile */
        @media (pointer: coarse) {
            #cat-cursor-container, #rope-canvas {
                display: none;
            }
        }
        
        /* Transisi Tema Global (BARU) */
        #clients, #featured-portfolio, footer, #services .grid > div, .collapsible-section, #mobile-menu {
            transition: background-color 0.5s ease-in-out, border-color 0.5s ease-in-out;
        }
        h2, h3, p, li, span, .mobile-menu-link {
            transition: color 0.5s ease-in-out;
        }
        /* Transisi default untuk elemen navbar (digunakan untuk hover, dll.) */
        #brand-logo, #brand-logo span, #navbar a, #mobile-menu-button svg, #theme-toggle, #navbar .btn-secondary {
             transition: color 0.2s ease-out, border-color 0.2s ease-out, background-color 0.2s ease-out;
        }
        /* Override transisi elemen navbar HANYA saat tema berganti, dengan jeda */
        body.theme-is-changing #navbar a,
        body.theme-is-changing #brand-logo,
        body.theme-is-changing #brand-logo span,
        body.theme-is-changing #mobile-menu-button svg,
        body.theme-is-changing #theme-toggle,
        body.theme-is-changing #navbar .btn-secondary {
            transition: color 0.4s ease-in-out 0.25s, border-color 0.4s ease-in-out 0.25s;
        }
        #navbar a:hover {
             color: var(--accent-yellow); /* Jaga warna hover tetap instan saat tidak berganti tema */
        }
        body.light-mode #navbar a:hover {
            color: #1e3a8a; /* Jaga warna hover tetap instan saat tidak berganti tema */
        }


        /* --- Gaya Mode Terang --- */
        body.light-mode {
            background-color: #f8fafc; /* Abu-abu Sangat Terang */
            color: var(--navy-blue); /* Biru Navy */
        }
        body.light-mode #navbar a, 
        body.light-mode #brand-logo,
        body.light-mode #mobile-menu-button svg,
        body.light-mode #theme-toggle {
            color: var(--navy-blue);
        }
        body.light-mode #brand-logo span {
            color: var(--navy-blue);
        }
        body.light-mode #mobile-menu {
            background-color: rgba(250, 204, 21, 0.9);
        }
        body.light-mode .mobile-menu-link {
            color: var(--navy-blue);
        }
        body.light-mode .mobile-menu-link:hover {
            color: #1e3a8a;
        }
        body.light-mode .btn-primary {
            color: var(--navy-blue);
        }
        body.light-mode .btn-secondary {
            border-color: var(--navy-blue);
            color: var(--navy-blue);
        }
        body.light-mode .btn-secondary:hover {
            background-color: rgba(10, 25, 47, 0.1);
        }
        /* Jaga agar teks di atas video hero tetap putih */
        #hero .text-white { color: #e6f1ff !important; }
        #hero .text-slate-300 { color: #cbd5e1 !important; }
        /* Ubah warna teks lainnya */
        body.light-mode .text-white { color: var(--navy-blue); }
        body.light-mode .text-slate-300, 
        body.light-mode .text-slate-400 { color: #334155; } /* Abu-abu Kebiruan */
        body.light-mode .bg-blue-900\/10 { background-color: #f1f5f9; }
        body.light-mode .bg-blue-900\/20 { background-color: #e2e8f0; }
        body.light-mode .bg-blue-900\/30 { background-color: #f8fafc; border-color: #e2e8f0; }
        body.light-mode .border-blue-800 { border-color: #e2e8f0; }
        body.light-mode .client-logo {
            background-color: rgba(10, 25, 47, 0.03);
            color: #475569;
            filter: grayscale(50%) brightness(1);
            opacity: 0.8;
            border-color: rgba(10, 25, 47, 0.05);
        }
        body.light-mode .client-swiper .swiper-slide:hover .client-logo {
            filter: grayscale(0%) brightness(1);
            background-color: rgba(10, 25, 47, 0.08);
            border-color: rgba(10, 25, 47, 0.3);
        }
        body.light-mode .portfolio-card .overlay {
            background: linear-gradient(to top, rgba(248, 250, 252, 0.95), rgba(248, 250, 252, 0.1));
        }
        body.light-mode .portfolio-card .card-content .text-white {
            color: var(--navy-blue) !important;
        }
        body.light-mode .slider-controls .swiper-button-next, 
        body.light-mode .slider-controls .swiper-button-prev {
            color: var(--navy-blue);
            background-color: rgba(255, 255, 255, 0.5);
        }
        body.light-mode .slider-controls .swiper-button-next:hover, 
        body.light-mode .slider-controls .swiper-button-prev:hover {
            background-color: rgba(255, 255, 255, 0.8);
        }
        body.light-mode .swiper-pagination-bullet { background-color: #94a3b8; }
        body.light-mode .swiper-pagination-bullet-active { background-color: var(--navy-blue); }
        body.light-mode .text-gradient {
            background: linear-gradient(90deg, #1e3a8a, #0c4a6e);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            background-clip: text; text-fill-color: transparent;
        }
        body.light-mode footer, body.light-mode footer p { color: #475569; }
        body.light-mode #page-transition-overlay { background-color: #f8fafc; }
        body.light-mode #about-us-page, body.light-mode .service-page, body.light-mode #portfolio-detail-page { background-color: #f8fafc; }
        body.light-mode .interactive-frame { background-color: #f1f5f9; border-color: #e2e8f0; }
        body.light-mode .interactive-frame:hover {
            border-color: rgba(10, 25, 47, 0.4);
            box-shadow: 0 0 25px rgba(10, 25, 47, 0.15);
        }
        body.light-mode .collapsible-content { border-top-color: rgba(10, 25, 47, 0.2); }

        /* --- Animasi Transisi Tema --- */
        /* Sembunyikan SVG filter */
        .hidden-svg-filter {
            position: absolute;
            width: 0;
            height: 0;
            overflow: hidden;
        }
        /* Wrapper untuk efek liquid */
        #navbar {
            /* Membuat stacking context baru agar z-index anak berfungsi relatif terhadap navbar */
            isolation: isolate;
        }
        #navbar > .container {
            /* Pastikan konten navbar (logo, link) selalu di atas animasi */
            position: relative;
            z-index: 2;
        }
        #theme-transition-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            /* z-index -1 menempatkan wrapper di belakang konten navbar di dalam stacking context yang sama */
            z-index: -1;
        }
        #theme-transition-circle {
            position: absolute;
            border-radius: 50%;
            transform: scale(0);
        }
        
        /* --- Animasi Ikon Tema (BARU) --- */
        #theme-toggle {
            position: relative;
            /* Dimensi tombol untuk menampung ikon absolut */
            width: 2.5rem; /* w-6 (1.5rem) + p-2 (0.5rem * 2) */
            height: 2.5rem;
        }
        #theme-toggle svg {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: opacity 0.4s ease-in-out; /* Transisi default tanpa jeda */
        }
        
        /* State Awal (Dark Mode) - Sun icon tidak terlihat */
        #theme-toggle-sun-icon { opacity: 0; pointer-events: none; }
        #theme-toggle-moon-icon { opacity: 1; }

        /* State Akhir (Light Mode) - Moon icon tidak terlihat */
        body.light-mode #theme-toggle-sun-icon { opacity: 1; pointer-events: auto; }
        body.light-mode #theme-toggle-moon-icon { opacity: 0; pointer-events: none; }

    </style>
</head>
<body class="antialiased">

    <!-- Filter SVG untuk efek liquid (gooey) -->
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="hidden-svg-filter">
      <defs>
        <filter id="gooey">
          <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
          <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" />
          <feBlend in="SourceGraphic" in2="goo" />
        </filter>
      </defs>
    </svg>

    <!-- Efek Kucing Pengikut Kursor -->
    <canvas id="rope-canvas"></canvas>
    <div id="cat-cursor-container">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczOw2yGG_YRzTSFsFz6-iKfT6RDnJzYoEUL58qHd9aqpeF2WEzHcMwpSLh6DhgNCdQpIqupjBcoN2NAOo6MXF3chc6x6hrsrdDJnnClbiuj8S2CIag=w2400" alt="Kucing Pengikut Kursor">
    </div>

    <!-- Container Utama -->
    <div id="app-container">
        
        <div id="page-transition-overlay" class="fixed top-0 left-0 w-full h-full bg-[#0a192f] opacity-0 pointer-events-none z-40" style="transition: opacity 0.5s ease-in-out, background-color 0.5s ease-in-out;"></div>
        
        <header class="fixed top-0 left-0 right-0 z-50 bg-[#0a192f]/90 backdrop-blur-sm" id="navbar">
            <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                <a href="#hero" id="brand-logo" class="text-2xl font-bold text-white">Arstate <span class="text-yellow-400">Cinema</span></a>
                <div class="flex items-center">
                    <nav class="hidden md:flex items-center space-x-8">
                        <a href="#hero" class="text-slate-300 hover:text-yellow-400">Beranda</a>
                        <a href="#services" class="text-slate-300 hover:text-yellow-400">Layanan</a>
                        <a href="#featured-portfolio" class="text-slate-300 hover:text-yellow-400">Portofolio</a>
                        <a href="#contact" class="btn-secondary font-semibold py-2 px-4 rounded-lg">Hubungi Kami</a>
                    </nav>
                    <button id="theme-toggle" class="ml-4 p-2 rounded-full text-yellow-400 hover:bg-yellow-400/10 transition-colors">
                        <svg id="theme-toggle-sun-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a5 5 0 100-10 5 5 0 000 10z" />
                        </svg>
                        <svg id="theme-toggle-moon-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                        </svg>
                    </button>
                    <button id="mobile-menu-button" class="md:hidden text-white z-50 ml-2">
                        <svg id="menu-open-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
                        <svg id="menu-close-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Mobile Menu (Dropdown) -->
        <div id="mobile-menu" class="md:hidden fixed top-16 left-0 right-0 bg-[#0a192f]/90 backdrop-blur-sm z-40 hidden">
            <div class="container mx-auto px-6 py-4 flex flex-col space-y-4">
                <a href="#hero" class="text-slate-300 hover:text-yellow-400 mobile-menu-link text-lg text-center py-2">Beranda</a>
                <a href="#services" class="text-slate-300 hover:text-yellow-400 mobile-menu-link text-lg text-center py-2">Layanan</a>
                <a href="#featured-portfolio" class="text-slate-300 hover:text-yellow-400 mobile-menu-link text-lg text-center py-2">Portofolio</a>
                <a href="#contact" class="btn-secondary font-semibold py-2 px-4 rounded-lg mobile-menu-link text-center">Hubungi Kami</a>
            </div>
        </div>

        <!-- HALAMAN UTAMA -->
        <div id="main-page" class="page">
            <main>
                <section id="hero" class="min-h-screen flex items-end pb-24 relative overflow-hidden">
                    <!-- Background Elements for better mobile compatibility -->
                    <div class="absolute top-0 left-0 w-full h-full">
                        <!-- Video Background -->
                        <div id="hero-video-background">
                           <iframe
                                id="hero-video-iframe"
                                src="https://www.youtube.com/embed/1CYQXV68xpI?autoplay=1&mute=1&loop=1&playlist=1CYQXV68xpI&controls=0&showinfo=0&rel=0&playsinline=1"
                                title="YouTube video player"
                                frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen>
                           </iframe>
                        </div>
                        <div class="absolute top-0 left-0 w-full h-full bg-[#0a192f] opacity-60"></div>
                    </div>
                    
                    <div class="container mx-auto px-6 text-center animatable hero-anim relative z-10">
                        <div class="max-w-3xl mx-auto">
                            <h2 class="text-4xl md:text-6xl font-bold text-white mt-4 leading-tight invisible">Mengabadikan Momen, <br>Menciptakan Kenangan Abadi.</h2>
                            <p class="text-yellow-400 font-semibold text-lg mb-2">Selamat Datang di Arstate Cinema</p>
                            <p class="text-slate-300 max-w-xl mx-auto text-lg">Kami adalah partner kreatif Anda dalam fotografi dan videografi, mengubah setiap detik berharga menjadi sebuah karya sinematik yang tak terlupakan.</p>
                            <div class="mt-10"><a href="#featured-portfolio" class="btn-primary font-bold py-3 px-8 rounded-lg text-lg">Lihat Karya Kami</a></div>
                        </div>
                    </div>
                </section>

                <!-- KLIEN KAMI SECTION -->
                <section id="clients" class="py-16 md:py-20 bg-blue-900/10">
                    <div class="container mx-auto px-6 animatable services-anim">
                        <div class="text-center max-w-2xl mx-auto mb-16">
                             <h2 class="text-3xl md:text-4xl font-bold">Telah Dipercaya Oleh</h2>
                             <p class="text-slate-400 mt-4">Kami bangga telah menjadi bagian dari cerita sukses berbagai klien dan acara.</p>
                        </div>
                         <!-- Slider Klien -->
                        <div class="swiper-container client-swiper">
                            <div class="swiper-wrapper">
                                <!-- Set 1 -->
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 1</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 2</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 3</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 4</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 5</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 6</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 7</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 8</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 9</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 10</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 11</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 12</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 13</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 14</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 15</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 16</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 17</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 18</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 19</div></div>
                                <div class="swiper-slide"><div class="client-logo">Logo Klien 20</div></div>
                                <!-- Set 2 (Duplikat untuk loop mulus) -->
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 1</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 2</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 3</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 4</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 5</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 6</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 7</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 8</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 9</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 10</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 11</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 12</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 13</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 14</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 15</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 16</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 17</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 18</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 19</div></div>
                                <div class="swiper-slide" aria-hidden="true"><div class="client-logo">Logo Klien 20</div></div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="services" class="py-20 md:py-32">
                    <div class="container mx-auto px-6 animatable services-anim">
                        <div class="text-center max-w-2xl mx-auto mb-16"><h2 class="text-3xl md:text-4xl font-bold">Layanan Profesional Kami</h2><p class="text-slate-400 mt-4">Dari pernikahan yang sakral hingga acara perusahaan yang meriah, kami siap menangkap esensi dari setiap momen Anda.</p></div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                            <div class="bg-blue-900/30 p-8 rounded-lg text-center border border-blue-800 flex flex-col">
                                <div class="text-yellow-400 mb-4 flex justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" /></svg></div>
                                <h3 class="text-xl font-bold text-white mb-2">Wedding & Prewedding</h3>
                                <p class="text-slate-400 flex-grow">Paket lengkap untuk hari istimewa Anda, dari sesi pra-pernikahan yang romantis hingga liputan hari-H yang sinematik.</p>
                                <div class="mt-6"><a href="#" class="btn-secondary text-sm py-2 px-4 rounded-md service-gallery-btn" data-target="wedding-prewedding-page">Lihat Galeri</a></div>
                            </div>
                            <div class="bg-blue-900/30 p-8 rounded-lg text-center border border-blue-800 flex flex-col">
                                <div class="text-yellow-400 mb-4 flex justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" viewBox="0 0 20 20" fill="currentColor"><path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 001.553.832l3-2a1 1 0 000-1.664l-3-2z" /></svg></div>
                                <h3 class="text-xl font-bold text-white mb-2">Dokumentasi Event</h3>
                                <p class="text-slate-400 flex-grow">Liputan acara ulang tahun, seminar, gathering, atau konser dengan kualitas video dan foto yang profesional.</p>
                                <div class="mt-6"><a href="#" class="btn-secondary text-sm py-2 px-4 rounded-md service-gallery-btn" data-target="event-page">Lihat Galeri</a></div>
                            </div>
                            <div class="bg-blue-900/30 p-8 rounded-lg text-center border border-blue-800 flex flex-col">
                                <div class="text-yellow-400 mb-4 flex justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" viewBox="0 0 20 20" fill="currentColor"><path d="M10 2a6 6 0 00-6 6v3.586l-1.707 1.707A1 1 0 003 15v1a1 1 0 001 1h12a1 1 0 001-1v-1a1 1 0 00-.293-.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z" /></svg></div>
                                <h3 class="text-xl font-bold text-white mb-2">Konten Komersial</h3>
                                <p class="text-slate-400 flex-grow">Produksi video profil perusahaan, iklan produk, atau konten media sosial untuk meningkatkan brand Anda.</p>
                                <div class="mt-6"><a href="#" class="btn-secondary text-sm py-2 px-4 rounded-md service-gallery-btn" data-target="commercial-page">Lihat Galeri</a></div>
                            </div>
                            <div class="bg-blue-900/30 p-8 rounded-lg text-center border border-blue-800 flex flex-col">
                                <div class="text-yellow-400 mb-4 flex justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 011.056 0l4 2a1 1 0 001.056 0l4-2a1 1 0 011.056 0l2.646-1.323a1 1 0 000-1.84l-7-3zM3 9.36l5.214 2.607a1 1 0 001.056 0L17 9.36V13a1 1 0 11-2 0V9.81l-3.394 1.697a1 1 0 01-1.056 0L7 9.81v3.19a1 1 0 01-2 0V9.36z" />
                                    </svg>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2">Wisuda & Yearbook</h3>
                                <p class="text-slate-400 flex-grow">Kami mengabadikan momen spesial kelulusan Anda dengan fotografi dan videografi berkualitas tinggi.</p>
                                <div class="mt-6"><a href="#" class="btn-secondary text-sm py-2 px-4 rounded-md service-gallery-btn" data-target="graduation-page">Lihat Galeri</a></div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="featured-portfolio" class="py-20 md:py-32 bg-blue-900/20 overflow-hidden">
                    <div class="container mx-auto px-6">
                        <div class="text-center max-w-2xl mx-auto mb-16 animatable portfolio-title-anim"><h2 class="text-3xl md:text-4xl font-bold">Karya Pilihan Kami</h2><p class="text-slate-400 mt-4">Beberapa momen favorit yang telah kami abadikan. Setiap frame menceritakan sebuah kisah unik.</p></div>
                        <div class="swiper-container">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide"><div class="portfolio-card animatable" data-id="andi-rina"><img src="https://placehold.co/600x800/1e3a8a/facc15?text=Andi+%26+Rina" alt="Wedding Andi & Rina" class="w-full h-full object-cover"><div class="overlay"></div><div class="card-content"><span class="text-yellow-400 text-sm font-semibold">Wedding</span><h3 class="text-white text-2xl font-bold mt-1">Andi & Rina</h3></div></div></div>
                                <div class="swiper-slide"><div class="portfolio-card animatable" data-id="bali-escape"><img src="https://placehold.co/600x800/4a044e/fde047?text=Bali+Escape" alt="Prewedding di Bali" class="w-full h-full object-cover"><div class="overlay"></div><div class="card-content"><span class="text-yellow-400 text-sm font-semibold">Prewedding</span><h3 class="text-white text-2xl font-bold mt-1">Bali Escape</h3></div></div></div>
                                <div class="swiper-slide"><div class="portfolio-card animatable" data-id="tech-conf"><img src="https://placehold.co/600x800/064e3b/facc15?text=Tech+Conf+2025" alt="Tech Conference 2025" class="w-full h-full object-cover"><div class="overlay"></div><div class="card-content"><span class="text-yellow-400 text-sm font-semibold">Event</span><h3 class="text-white text-2xl font-bold mt-1">Tech Conf 2025</h3></div></div></div>
                                <div class="swiper-slide"><div class="portfolio-card animatable" data-id="java-journey"><img src="https://placehold.co/600x800/7f1d1d/fde047?text=Java+Journey" alt="Java Journey" class="w-full h-full object-cover"><div class="overlay"></div><div class="card-content"><span class="text-yellow-400 text-sm font-semibold">Commercial</span><h3 class="text-white text-2xl font-bold mt-1">Java Journey</h3></div></div></div>
                                <div class="swiper-slide"><div class="portfolio-card animatable" data-id="sunset-vows"><img src="https://placehold.co/600x800/831843/facc15?text=Sunset+Vows" alt="Sunset Vows" class="w-full h-full object-cover"><div class="overlay"></div><div class="card-content"><span class="text-yellow-400 text-sm font-semibold">Wedding</span><h3 class="text-white text-2xl font-bold mt-1">Sunset Vows</h3></div></div></div>
                                <div class="swiper-slide"><div class="portfolio-card animatable" data-id="corporate-profile"><img src="https://placehold.co/600x800/0c4a6e/fde047?text=Stellar+Corp" alt="Corporate Profile" class="w-full h-full object-cover"><div class="overlay"></div><div class="card-content"><span class="text-yellow-400 text-sm font-semibold">Commercial</span><h3 class="text-white text-2xl font-bold mt-1">Stellar Corp Profile</h3></div></div></div>
                                <div class="swiper-slide"><div class="portfolio-card animatable" data-id="birthday-bash"><img src="https://placehold.co/600x800/701a75/facc15?text=Birthday+Bash" alt="Birthday Party" class="w-full h-full object-cover"><div class="overlay"></div><div class="card-content"><span class="text-yellow-400 text-sm font-semibold">Event</span><h3 class="text-white text-2xl font-bold mt-1">Elara's 18th Birthday</h3></div></div></div>
                                <div class="swiper-slide"><div class="portfolio-card animatable" data-id="mountain-prewed"><img src="https://placehold.co/600x800/365314/fde047?text=Bromo+Serenade" alt="Mountain Prewedding" class="w-full h-full object-cover"><div class="overlay"></div><div class="card-content"><span class="text-yellow-400 text-sm font-semibold">Prewedding</span><h3 class="text-white text-2xl font-bold mt-1">Bromo Serenade</h3></div></div></div>
                                <div class="swiper-slide"><div class="portfolio-card animatable" data-id="culinary-story"><img src="https://placehold.co/600x800/854d0e/facc15?text=Culinary+Story" alt="Culinary Commercial" class="w-full h-full object-cover"><div class="overlay"></div><div class="card-content"><span class="text-yellow-400 text-sm font-semibold">Commercial</span><h3 class="text-white text-2xl font-bold mt-1">Savoria Eatery</h3></div></div></div>
                                <div class="swiper-slide"><div class="portfolio-card animatable" data-id="graduation-day"><img src="https://placehold.co/600x800/1e1b4b/fde047?text=Graduation+Gala" alt="Graduation Day" class="w-full h-full object-cover"><div class="overlay"></div><div class="card-content"><span class="text-yellow-400 text-sm font-semibold">Event</span><h3 class="text-white text-2xl font-bold mt-1">Graduation Gala 2025</h3></div></div></div>
                            </div>
                        </div>
                        <div class="slider-controls animatable portfolio-controls-anim"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                    </div>
                </section>
                
                <!-- Section Bubble Interaktif dipindahkan ke sini -->
                <section id="qualities" class="py-20 md:py-32">
                    <div class="w-full text-center">
                        <!-- Judul statis dihapus dari sini -->
                        <div id="bubble-canvas-container" class="relative w-full h-[480px] md:h-[450px] animatable">
                            <!-- Canvas untuk Matter.js akan dimasukkan di sini oleh script -->
                        </div>
                    </div>
                </section>

                <section id="contact" class="py-20 md:py-32 text-center">
                    <div class="container mx-auto px-6 animatable contact-anim">
                        <div class="max-w-2xl mx-auto">
                            <h2 class="text-3xl md:text-4xl font-bold text-gradient">Siap Mewujudkan Visi Anda?</h2>
                            <p class="text-slate-300 mt-6 text-lg">Jangan ragu untuk berdiskusi dengan kami. Mari kita rencanakan bagaimana cara terbaik untuk mengabadikan momen spesial Anda.</p>
                            <div class="mt-10 flex flex-col sm:flex-row items-center justify-center gap-4">
                                <a href="#about-us-page" id="show-about-us-btn" class="btn-secondary font-bold py-4 px-10 rounded-lg text-xl w-full sm:w-auto">Info Selengkapnya</a>
                                <a href="https://wa.me/6289617323344?text=Halo%20kakk%0ASaya%20menemukan%20jasa%20dari%20Arstate%20Cinema%20melalui%20instagram%20%26%20website%20dan%20tertarik%20untuk%20menggunakan%20jasa%20fotografi/videografi.%0AMohon%20informasinya%20mengenai%20paket%20dan%20pricelist%20yang%20sesuai.%0ATerima%20kasih." target="_blank" class="btn-primary font-bold py-4 px-10 rounded-lg text-xl inline-flex items-center justify-center w-full sm:w-auto">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a2 2 0 01-2-2V4a2 2 0 012-2h8a2 2 0 012 2v4z" /></svg>
                                    Hubungi Kami Sekarang
                                </a>
                            </div>
                        </div>
                    </div>
                </section>

            </main>
            <footer class="bg-blue-900/20 py-8 animatable footer-anim"><div class="container mx-auto px-6 text-center text-slate-400"><p>&copy; 2025 Arstate Cinema. All Rights Reserved.</p><p class="text-sm mt-2">Dibuat dengan ❤️ untuk menangkap momen berharga.</p></div></footer>
        </div>

        <!-- HALAMAN DETAIL PORTFOLIO (STRUKTUR BARU) -->
        <div id="portfolio-detail-page" class="page hidden min-h-screen">
            <div class="container mx-auto px-6 py-28">
                <!-- Header Deskripsi -->
                <div class="max-w-4xl mx-auto text-center mb-16 detail-anim detail-text-anim">
                    <p id="detail-category" class="text-yellow-400 font-semibold text-lg"></p>
                    <h2 id="detail-title" class="text-4xl md:text-6xl font-bold text-white mt-2 leading-tight"></h2>
                    <p id="detail-description" class="text-slate-300 mt-6 text-lg max-w-3xl mx-auto"></p>
                    <button id="back-from-detail" class="btn-secondary font-semibold py-3 px-8 rounded-lg mt-10 inline-flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" /></svg>Kembali ke Beranda</button>
                </div>
                <!-- Galeri Grid -->
                <div id="detail-gallery-grid" class="max-w-7xl mx-auto detail-anim detail-gallery-anim">
                    <!-- Gambar galeri akan di-generate oleh JS di sini -->
                </div>
            </div>
        </div>

        <!-- HALAMAN TENTANG KAMI (BARU) -->
        <div id="about-us-page" class="page hidden min-h-screen">
            <div class="container mx-auto px-6 py-28">
                <div class="max-w-4xl mx-auto">
                    <!-- Tombol Kembali Dihapus -->

                    <!-- Konten Tentang Kami -->
                    <div class="space-y-6 text-slate-300">
                        <div class="text-center mb-12">
                            <h2 class="text-3xl md:text-6xl font-bold text-white leading-tight">Tentang Kami</h2>
                            <p class="mt-4 text-yellow-400 text-base md:text-lg">ARSTATE CINEMA</p>
                            <p class="mt-6 text-base md:text-lg max-w-3xl mx-auto">adalah sebuah vendor foto dan video yang berdedikasi untuk mengabadikan momen-momen berharga dalam bentuk karya seni visual yang indah dan berkesan. Dengan tim profesional dan kreatif kami, kami menghadirkan layanan fotografi dan videografi yang berkualitas tinggi untuk berbagai acara dan kebutuhan.</p>
                        </div>

                        <!-- Bagian Visi (Collapsible) -->
                        <div class="collapsible-section bg-blue-900/20 p-4 rounded-2xl border border-blue-800 interactive-frame">
                            <button class="toggle-btn w-full flex justify-between items-center text-left">
                                <h3 class="text-xl md:text-2xl font-bold text-gradient">Visi</h3>
                                <div class="flex items-center text-yellow-400">
                                    <svg class="toggle-icon w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" /></svg>
                                </div>
                            </button>
                            <div class="collapsible-content max-h-0 opacity-0 overflow-hidden transition-all duration-700 ease-in-out">
                                <p class="text-base md:text-lg pt-4 pb-2 border-t border-blue-800/50">Menjadi mitra terpercaya dalam mengabadikan momen berharga melalui karya foto dan video yang kreatif dan berkualitas tinggi, yang memberikan kebahagiaan dan kenangan abadi bagi klien kami.</p>
                            </div>
                        </div>

                        <!-- Bagian Misi (Collapsible) -->
                        <div class="collapsible-section bg-blue-900/20 p-4 rounded-2xl border border-blue-800 interactive-frame">
                             <button class="toggle-btn w-full flex justify-between items-center text-left">
                                <h3 class="text-xl md:text-2xl font-bold text-gradient">Misi</h3>
                                <div class="flex items-center text-yellow-400">
                                    <svg class="toggle-icon w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" /></svg>
                                </div>
                            </button>
                            <div class="collapsible-content max-h-0 opacity-0 overflow-hidden transition-all duration-700 ease-in-out">
                                <ul class="space-y-4 text-base md:text-lg pt-4 pb-2 border-t border-blue-800/50">
                                    <li class="flex items-start"><span class="text-yellow-400 font-bold mr-3 mt-1">&#10140;</span> <div><strong>Kualitas Utama:</strong> Kami mengutamakan standar kualitas tak tertandingi dalam setiap foto dan video yang kami hasilkan.</div></li>
                                    <li class="flex items-start"><span class="text-yellow-400 font-bold mr-3 mt-1">&#10140;</span> <div><strong>Kreativitas Tanpa Batas:</strong> Kami selalu mencari cara baru untuk melihat dan merekam momen.</div></li>
                                    <li class="flex items-start"><span class="text-yellow-400 font-bold mr-3 mt-1">&#10140;</span> <div><strong>Kenangan Abadi:</strong> Karya kami tidak hanya sekadar gambar dan video, tetapi juga kenangan abadi yang akan diwariskan kepada generasi mendatang.</div></li>
                                    <li class="flex items-start"><span class="text-yellow-400 font-bold mr-3 mt-1">&#10140;</span> <div><strong>Pelayanan Personal:</strong> Kami bekerja erat dengan setiap klien untuk memahami visi mereka dan mewujudkannya melalui karya kami.</div></li>
                                </ul>
                            </div>
                        </div>
                        
                        <!-- Bagian Layanan (Collapsible) -->
                        <div class="collapsible-section bg-blue-900/20 p-4 rounded-2xl border border-blue-800 interactive-frame">
                            <button class="toggle-btn w-full flex justify-between items-center text-left">
                                <h3 class="text-xl md:text-2xl font-bold text-gradient">Layanan yang Ditawarkan</h3>
                                <div class="flex items-center text-yellow-400">
                                    <svg class="toggle-icon w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" /></svg>
                                </div>
                            </button>
                            <div class="collapsible-content max-h-0 opacity-0 overflow-hidden transition-all duration-700 ease-in-out">
                                 <ul class="space-y-3 text-base md:text-lg pt-4 pb-2 border-t border-blue-800/50">
                                    <li><strong>Dokumentasi Pernikahan:</strong> Mengabadikan momen paling bahagia dalam hidup Anda dengan sentuhan artistik dan romantisme yang mendalam.</li>
                                    <li><strong>Dokumentasi Event:</strong> Dari acara resmi, korporat sampai pesta ulang tahun, kami menangkap esensi setiap acara dengan detail dan kecermatan.</li>
                                    <li><strong>Iklan dan Komersial:</strong> Membantu merek dan bisnis untuk menyampaikan pesan mereka melalui gambar dan video yang kuat.</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="bg-blue-900/20 p-4 rounded-2xl border border-blue-800 interactive-frame">
                            <h3 class="text-xl md:text-2xl font-bold text-gradient mb-4">Informasi Kontak</h3>
                             <ul class="space-y-2 text-base md:text-lg">
                                <li><strong>WhatsApp:</strong> 0896-1732-3344</li>
                                <li><strong>Email:</strong> arstateproduction@gmail.com</li>
                                <li><strong>Situs web:</strong> www.arstatecinema.my.id</li>
                                <li><strong>Instagram:</strong> @arstate.cinema</li>
                                <li><strong>TikTok:</strong> @arstatecinema</li>
                             </ul>
                        </div>

                        <!-- Bagian Alamat Kantor (Collapsible) -->
                        <div class="collapsible-section bg-blue-900/20 p-4 rounded-2xl border border-blue-800 interactive-frame">
                             <button class="toggle-btn w-full flex justify-between items-center text-left">
                                <h3 class="text-xl md:text-2xl font-bold text-gradient">Alamat Kantor</h3>
                                <div class="flex items-center text-yellow-400">
                                    <svg class="toggle-icon w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" /></svg>
                                </div>
                            </button>
                            <div class="collapsible-content max-h-0 opacity-0 overflow-hidden transition-all duration-700 ease-in-out">
                                <div class="pt-4 pb-2 border-t border-blue-800/50">
                                    <p class="text-base md:text-lg mb-4">Temukan kami di lokasi yang strategis di Sidoarjo.</p>
                                    <div class="rounded-lg overflow-hidden border-2 border-yellow-400/30 shadow-lg">
                                        <div class="embed-map-responsive">
                                            <div class="embed-map-container">
                                                <iframe class="embed-map-frame" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3956.521165055142!2d112.7769259!3d-7.407422800000003!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e6779b9f42426f7%3A0x1670c6e80b4d227c!2sfotografer%20videografer%20surabaya%20-%20arstate%20cinema!5e0!3m2!1sen!2sid!4v1756717075794!5m2!1sen!2sid" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                                            </div>
                                            <style>
                                                .embed-map-responsive{position:relative;text-align:right;width:100%;height:0;padding-bottom:75%;}
                                                .embed-map-container{overflow:hidden;background:none!important;width:100%;height:100%;position:absolute;top:0;left:0;}
                                                .embed-map-frame{width:100%!important;height:100%!important;position:absolute;top:0;left:0;border:0;}
                                            </style>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    

        <!-- HALAMAN LAYANAN: WEDDING & PREWEDDING -->
        <div id="wedding-prewedding-page" class="page service-page hidden min-h-screen">
            <div class="container mx-auto px-6 py-28">
                <div class="max-w-4xl mx-auto text-center mb-16">
                    <h2 class="text-4xl md:text-6xl font-bold text-white mt-2 leading-tight">Wedding & Prewedding</h2>
                    <p class="text-slate-300 mt-6 text-lg max-w-3xl mx-auto">Jelajahi keindahan momen cinta yang kami abadikan dalam galeri Wedding dan Prewedding kami.</p>
                </div>
                <!-- Galeri Wedding -->
                <div class="mb-20">
                    <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 mb-8 text-center">Galeri Wedding</h3>
                    <div class="swiper-container service-gallery-swiper" id="wedding-slider"><div class="swiper-wrapper"></div></div>
                    <div class="slider-controls"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                </div>
                <!-- Galeri Prewedding -->
                <div class="mb-16">
                    <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 mb-8 text-center">Galeri Prewedding</h3>
                    <div class="swiper-container service-gallery-swiper" id="prewedding-slider"><div class="swiper-wrapper"></div></div>
                    <div class="slider-controls"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                </div>
            </div>
        </div>

        <!-- HALAMAN LAYANAN: DOKUMENTASI EVENT -->
        <div id="event-page" class="page service-page hidden min-h-screen">
            <div class="container mx-auto px-6 py-28">
                <div class="max-w-4xl mx-auto text-center mb-16">
                    <h2 class="text-4xl md:text-6xl font-bold text-white mt-2 leading-tight">Dokumentasi Event</h2>
                    <p class="text-slate-300 mt-6 text-lg max-w-3xl mx-auto">Setiap event memiliki cerita. Lihat bagaimana kami menangkap energi dan kemeriahan berbagai acara.</p>
                </div>
                <div class="mb-20">
                    <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 mb-8 text-center">Ulang Tahun</h3>
                    <div class="swiper-container service-gallery-swiper" id="birthday-slider"><div class="swiper-wrapper"></div></div>
                    <div class="slider-controls"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                </div>
                <div class="mb-20">
                    <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 mb-8 text-center">Gathering</h3>
                    <div class="swiper-container service-gallery-swiper" id="gathering-slider"><div class="swiper-wrapper"></div></div>
                    <div class="slider-controls"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                </div>
                <div class="mb-16">
                    <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 mb-8 text-center">Konser</h3>
                    <div class="swiper-container service-gallery-swiper" id="concert-slider"><div class="swiper-wrapper"></div></div>
                    <div class="slider-controls"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                </div>
            </div>
        </div>

        <!-- HALAMAN LAYANAN: KONTEN KOMERSIAL -->
        <div id="commercial-page" class="page service-page hidden min-h-screen">
            <div class="container mx-auto px-6 py-28">
                 <div class="max-w-4xl mx-auto text-center mb-16">
                    <h2 class="text-4xl md:text-6xl font-bold text-white mt-2 leading-tight">Konten Komersial</h2>
                    <p class="text-slate-300 mt-6 text-lg max-w-3xl mx-auto">Visual yang kuat untuk brand Anda. Lihat portofolio kami dalam pembuatan konten komersial yang menarik.</p>
                </div>
                <div class="mb-20">
                    <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 mb-8 text-center">Video Profil</h3>
                    <div class="swiper-container service-gallery-swiper" id="profile-video-slider"><div class="swiper-wrapper"></div></div>
                    <div class="slider-controls"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                </div>
                <div class="mb-20">
                    <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 mb-8 text-center">Iklan Produk</h3>
                    <div class="swiper-container service-gallery-swiper" id="product-ad-slider"><div class="swiper-wrapper"></div></div>
                    <div class="slider-controls"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                </div>
                <div class="mb-16">
                    <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 mb-8 text-center">Short Movie</h3>
                    <div class="swiper-container service-gallery-swiper" id="short-movie-slider"><div class="swiper-wrapper"></div></div>
                    <div class="slider-controls"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                </div>
            </div>
        </div>

        <!-- HALAMAN LAYANAN: WISUDA & YEARBOOK -->
        <div id="graduation-page" class="page service-page hidden min-h-screen">
            <div class="container mx-auto px-6 py-28">
                 <div class="max-w-4xl mx-auto text-center mb-16">
                    <h2 class="text-4xl md:text-6xl font-bold text-white mt-2 leading-tight">Wisuda & Yearbook</h2>
                    <p class="text-slate-300 mt-6 text-lg max-w-3xl mx-auto">Abadikan momen kelulusan yang membanggakan dengan sentuhan profesional dari tim kami.</p>
                </div>
                <div class="mb-20">
                    <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 mb-8 text-center">Event Wisuda</h3>
                    <div class="swiper-container service-gallery-swiper" id="grad-event-slider"><div class="swiper-wrapper"></div></div>
                    <div class="slider-controls"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                </div>
                <div class="mb-20">
                    <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 mb-8 text-center">Personal Wisuda</h3>
                    <div class="swiper-container service-gallery-swiper" id="grad-personal-slider"><div class="swiper-wrapper"></div></div>
                    <div class="slider-controls"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                </div>
                <div class="mb-20">
                    <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 mb-8 text-center">Yearbook</h3>
                    <div class="swiper-container service-gallery-swiper" id="yearbook-slider"><div class="swiper-wrapper"></div></div>
                    <div class="slider-controls"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                </div>
                <div class="mb-16">
                    <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 mb-8 text-center">Video Angkatan</h3>
                    <div class="swiper-container service-gallery-swiper" id="class-video-slider"><div class="swiper-wrapper"></div></div>
                    <div class="slider-controls"><div class="swiper-button-prev"></div><div class="swiper-pagination"></div><div class="swiper-button-next"></div></div>
                </div>
            </div>
        </div>

        <!-- HALAMAN DETAIL GALERI LAYANAN (BARU) -->
        <div id="service-gallery-detail-page" class="page hidden min-h-screen">
            <div class="container mx-auto px-6 py-28">
                <!-- Header Deskripsi -->
                <div class="max-w-4xl mx-auto text-center mb-16">
                    <h2 id="service-detail-title" class="text-4xl md:text-6xl font-bold text-white mt-2 leading-tight"></h2>
                    <button id="back-from-service-detail" class="btn-secondary font-semibold py-3 px-8 rounded-lg mt-10 inline-flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" /></svg>
                        Kembali ke Galeri Layanan
                    </button>
                </div>
                <!-- Galeri Grid -->
                <div id="service-detail-gallery-grid" class="max-w-7xl mx-auto">
                    <!-- Gambar galeri akan di-generate oleh JS di sini -->
                </div>
            </div>
        </div>

    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="fixed top-0 left-0 w-full h-full bg-black/90 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300 z-50" style="backdrop-filter: blur(5px);">
        <span id="close-lightbox" class="absolute top-6 right-8 text-white text-5xl cursor-pointer font-light">&times;</span>
        <img id="lightbox-image" src="" class="max-w-[90vw] max-h-[85vh] rounded-lg shadow-2xl">
    </div>
    
    <!-- Matter.js untuk simulasi fisika -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- KUCING PENGIKUT KURSOR DENGAN FISIKA ---
            if (window.matchMedia("(pointer: fine)").matches) {
                const catContainer = document.getElementById('cat-cursor-container');
                const ropeCanvas = document.getElementById('rope-canvas');
                const ropeCtx = ropeCanvas.getContext('2d');
                const { Engine, Runner, World, Bodies, Body, Constraint, Events, Vector } = Matter;

                // 1. Setup Engine Fisika
                const catEngine = Engine.create();
                catEngine.world.gravity.y = 1.2; // Ditingkatkan dari 0.8

                // 2. Buat Objek Fisika
                const mouseAnchor = Bodies.circle(-100, -100, 20, { isStatic: true });
                
                // BUG FIX: Membuat badan kucing menjadi "compound body" agar tidak terbalik.
                // Bagian utama yang terlihat, disesuaikan dengan ukuran gambar (70x70)
                const catMainBody = Bodies.rectangle(0, 0, 70, 70);
                // Pemberat tak terlihat di bagian bawah untuk menstabilkan
                const catStabilizer = Bodies.circle(0, 30, 10, { 
                    density: 0.5, // Dibuat sangat padat
                    isSensor: true, // Tidak akan bertabrakan
                    render: { visible: false } 
                });

                // Gabungkan kedua bagian menjadi satu badan fisika
                const catBody = Body.create({
                    parts: [catMainBody, catStabilizer],
                    frictionAir: 0.05,
                    restitution: 0.3,
                    density: 0.01 // Ditingkatkan dari 0.005
                });
                Body.setPosition(catBody, { x: window.innerWidth / 2, y: window.innerHeight / 2 });


                const rope = Constraint.create({
                    bodyA: mouseAnchor,
                    bodyB: catBody,
                    pointA: { x: 0, y: 0 },
                    pointB: { x: 0, y: -30 }, /* Posisi diturunkan */
                    stiffness: 0.012, // Dikurangi dari 0.015 agar lebih lentur
                    damping: 0.12, // Disesuaikan dari 0.15
                    length: 10 
                });
                World.add(catEngine.world, [mouseAnchor, catBody, rope]);

                // 3. Jalankan Simulasi
                const catRunner = Runner.create();
                Runner.run(catRunner, catEngine);

                // 4. Update Posisi Jangkar & Logika Inisialisasi
                let isCatVisible = false; // Flag untuk melacak status kucing

                document.addEventListener('mousemove', (e) => {
                    // BUG FIX: Inisialisasi posisi kucing saat mouse pertama kali bergerak di dalam window.
                    if (!isCatVisible) {
                        // "Teleport" jangkar dan badan kucing ke posisi kursor agar langsung terlihat.
                        Body.setPosition(mouseAnchor, { x: e.clientX, y: e.clientY });
                        Body.setPosition(catBody, { x: e.clientX, y: e.clientY });
                        // Tampilkan kucing.
                        catContainer.style.opacity = '1';
                        isCatVisible = true; // Set flag agar blok ini tidak berjalan lagi.
                    }
                    
                    // Selalu perbarui posisi jangkar agar fisika terus berjalan.
                    Body.setPosition(mouseAnchor, { x: e.clientX, y: e.clientY });
                });

                // 5. Sinkronkan Visual dengan Fisika
                Events.on(catEngine, 'afterUpdate', () => {
                    requestAnimationFrame(() => {
                        // Perbarui posisi & rotasi gambar kucing
                        const { x, y } = catBody.position;
                        const angle = catBody.angle * (180 / Math.PI);
                        catContainer.style.transform = `translate(${x}px, ${y}px) rotate(${angle}deg)`;

                        // Gambar tali pada canvas
                        ropeCanvas.width = window.innerWidth;
                        ropeCanvas.height = window.innerHeight;
                        ropeCtx.clearRect(0, 0, ropeCanvas.width, ropeCanvas.height);
                        
                        const startPoint = mouseAnchor.position;
                        const endPointAttachment = Vector.rotate(rope.pointB, catBody.angle);
                        const endPoint = Vector.add(catBody.position, endPointAttachment);

                        ropeCtx.beginPath();
                        ropeCtx.moveTo(startPoint.x, startPoint.y);
                        ropeCtx.lineTo(endPoint.x, endPoint.y);
                        ropeCtx.strokeStyle = 'rgba(250, 204, 21, 0.7)';
                        ropeCtx.lineWidth = 2;
                        ropeCtx.stroke();
                    });
                });

                // Sembunyikan kucing saat kursor keluar dari window
                document.body.addEventListener('mouseleave', () => {
                    catContainer.style.opacity = '0';
                    isCatVisible = false; // Reset flag agar bisa muncul kembali saat mouse masuk lagi.
                });
            }

            // --- DATABASE PORTFOLIO ---
            const portfolioData = {
                'andi-rina': { category: 'Wedding', title: 'Andi & Rina', description: "Sebuah perayaan cinta yang elegan di tengah keindahan alam, menangkap setiap tawa dan air mata bahagia dari pasangan Andi dan Rina.", images: Array.from({length: 15}, (_, i) => `https://placehold.co/1200x800/1e3a8a/fde047?text=AR+Foto+${i+1}`) },
                'bali-escape': { category: 'Prewedding', title: 'Bali Escape', description: "Menjelajahi keindahan eksotis Pulau Dewata. Sesi prewedding ini adalah tentang petualangan, keintiman, dan pemandangan matahari terbenam yang tak terlupakan.", images: Array.from({length: 15}, (_, i) => `https://placehold.co/1200x800/4a044e/fde047?text=Bali+Foto+${i+1}`) },
                'tech-conf': { category: 'Event', title: 'Tech Conf 2025', description: "Dokumentasi lengkap dari konferensi teknologi terbesar tahun ini. Menangkap energi, inovasi, dan networking para pemimpin industri masa depan.", images: Array.from({length: 15}, (_, i) => `https://placehold.co/1200x800/064e3b/fde047?text=Tech+Foto+${i+1}`) },
                'java-journey': { category: 'Commercial', title: 'Java Journey', description: "Video komersial yang menampilkan kekayaan kopi asli Indonesia. Sebuah perjalanan visual dari biji kopi hingga ke cangkir Anda.", images: Array.from({length: 15}, (_, i) => `https://placehold.co/1200x800/7f1d1d/fde047?text=Java+Foto+${i+1}`) },
                'sunset-vows': { category: 'Wedding', title: 'Sunset Vows', description: "Janji suci yang diucapkan di tepi pantai saat senja tiba. Momen magis yang kami abadikan dengan sentuhan sinematik yang dramatis dan romantis.", images: Array.from({length: 15}, (_, i) => `https://placehold.co/1200x800/831843/fde047?text=Vows+Foto+${i+1}`) },
                'corporate-profile': { category: 'Commercial', title: 'Stellar Corp Profile', description: "Video profil perusahaan yang modern dan dinamis, menunjukkan visi dan misi Stellar Corp kepada dunia.", images: Array.from({length: 15}, (_, i) => `https://placehold.co/1200x800/0c4a6e/fde047?text=Stellar+Foto+${i+1}`) },
                'birthday-bash': { category: 'Event', title: "Elara's 18th Birthday", description: "Merekam kemeriahan pesta ulang tahun ke-18 Elara yang tak terlupakan, penuh tawa, tari, dan momen haru.", images: Array.from({length: 15}, (_, i) => `https://placehold.co/1200x800/701a75/facc15?text=Elara+Foto+${i+1}`) },
                'mountain-prewed': { category: 'Prewedding', title: 'Bromo Serenade', description: "Sesi prewedding dengan latar belakang megah Gunung Bromo, menangkap cinta yang kuat di tengah alam yang agung.", images: Array.from({length: 15}, (_, i) => `https://placehold.co/1200x800/365314/fde047?text=Bromo+Foto+${i+1}`) },
                'culinary-story': { category: 'Commercial', title: 'Savoria Eatery', description: "Menggugah selera melalui visual yang lezat, menampilkan setiap hidangan andalan dari Savoria Eatery.", images: Array.from({length: 15}, (_, i) => `https://placehold.co/1200x800/854d0e/facc15?text=Savoria+Foto+${i+1}`) },
                'graduation-day': { category: 'Event', title: 'Graduation Gala 2025', description: "Mengabadikan momen kelulusan yang penuh kebanggaan dan harapan, dari prosesi hingga perayaan.", images: Array.from({length: 15}, (_, i) => `https://placehold.co/1200x800/1e1b4b/fde047?text=Gala+Foto+${i+1}`) }
            };

            // --- DATABASE GALERI LAYANAN ---
            const serviceGalleries = {
                'wedding-slider': Array.from({length: 8}, (_, i) => ({ title: `Wedding Moment ${i+1}`, image: `https://placehold.co/600x800/1e3a8a/fde047?text=Wedding+${i+1}`})),
                'prewedding-slider': Array.from({length: 8}, (_, i) => ({ title: `Romantic Prewedding ${i+1}`, image: `https://placehold.co/600x800/4a044e/fde047?text=Prewedding+${i+1}`})),
                'birthday-slider': Array.from({length: 8}, (_, i) => ({ title: `Birthday Celebration ${i+1}`, image: `https://placehold.co/600x800/701a75/facc15?text=Birthday+${i+1}`})),
                'gathering-slider': Array.from({length: 8}, (_, i) => ({ title: `Company Gathering ${i+1}`, image: `https://placehold.co/600x800/064e3b/fde047?text=Gathering+${i+1}`})),
                'concert-slider': Array.from({length: 8}, (_, i) => ({ title: `Live Concert ${i+1}`, image: `https://placehold.co/600x800/7f1d1d/fde047?text=Concert+${i+1}`})),
                'profile-video-slider': Array.from({length: 8}, (_, i) => ({ title: `Corporate Profile ${i+1}`, image: `https://placehold.co/600x800/0c4a6e/fde047?text=Video+Profil+${i+1}`})),
                'product-ad-slider': Array.from({length: 8}, (_, i) => ({ title: `Product Ad ${i+1}`, image: `https://placehold.co/600x800/854d0e/facc15?text=Iklan+Produk+${i+1}`})),
                'short-movie-slider': Array.from({length: 8}, (_, i) => ({ title: `Short Movie Scene ${i+1}`, image: `https://placehold.co/600x800/831843/fde047?text=Short+Movie+${i+1}`})),
                'grad-event-slider': Array.from({length: 8}, (_, i) => ({ title: `Graduation Ceremony ${i+1}`, image: `https://placehold.co/600x800/1e1b4b/fde047?text=Event+Wisuda+${i+1}`})),
                'grad-personal-slider': Array.from({length: 8}, (_, i) => ({ title: `Graduation Portrait ${i+1}`, image: `https://placehold.co/600x800/365314/facc15?text=Personal+Wisuda+${i+1}`})),
                'yearbook-slider': Array.from({length: 8}, (_, i) => ({ title: `Yearbook Photo ${i+1}`, image: `https://placehold.co/600x800/4a044e/fde047?text=Yearbook+${i+1}`})),
                'class-video-slider': Array.from({length: 8}, (_, i) => ({ title: `Class Video ${i+1}`, image: `https://placehold.co/600x800/1e3a8a/facc15?text=Video+Angkatan+${i+1}`})),
            };

            const subGalleryData = {}; // Database baru untuk detail galeri layanan

            // --- Variabel & Elemen Halaman ---
            let lastScrollPosition = 0;
            let returnToServicePageId = ''; // Menyimpan ID halaman layanan asal
            const mainPage = document.getElementById('main-page');
            const portfolioDetailPage = document.getElementById('portfolio-detail-page');
            const aboutUsPage = document.getElementById('about-us-page');
            const servicePages = document.querySelectorAll('.service-page');
            const serviceGalleryDetailPage = document.getElementById('service-gallery-detail-page'); // Halaman baru
            const overlay = document.getElementById('page-transition-overlay');
            const swiperWrapper = document.querySelector('#featured-portfolio .swiper-wrapper');
            const backFromDetailBtn = document.getElementById('back-from-detail');
            const backFromServiceDetailBtn = document.getElementById('back-from-service-detail'); // Tombol baru
            const showAboutUsBtn = document.getElementById('show-about-us-btn');
            const serviceGalleryBtns = document.querySelectorAll('.service-gallery-btn');
            const scrollLinks = document.querySelectorAll('a[href^="#"]');
            const portfolioSection = document.getElementById('featured-portfolio');
            
            const detailGalleryGrid = document.getElementById('detail-gallery-grid');
            const detailCategory = document.getElementById('detail-category');
            const detailTitle = document.getElementById('detail-title');
            const detailDescription = document.getElementById('detail-description');
            
            const serviceDetailGalleryGrid = document.getElementById('service-detail-gallery-grid'); // Grid baru
            const serviceDetailTitle = document.getElementById('service-detail-title'); // Judul baru

            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const closeLightboxBtn = document.getElementById('close-lightbox');

            // --- BUG FIX HELPERS: SCROLL LOCK UNTUK TRANSISI HALUS (METODE FINAL & LEBIH STABIL) ---
            const htmlEl = document.documentElement; // Target <html>, bukan <body>
            const getScrollbarWidth = () => window.innerWidth - document.documentElement.clientWidth;
            
            // Atur CSS variable untuk lebar scrollbar, dan update saat window di-resize
            htmlEl.style.setProperty('--scrollbar-width', `${getScrollbarWidth()}px`);
            window.addEventListener('resize', () => {
                 htmlEl.style.setProperty('--scrollbar-width', `${getScrollbarWidth()}px`);
            });

            const lockScroll = () => {
                // Hanya kunci jika ada scrollbar untuk menghindari penambahan padding yang tidak perlu
                if (getScrollbarWidth() > 0) {
                    htmlEl.classList.add('is-transitioning');
                }
            };
            
            const unlockScroll = () => {
                htmlEl.classList.remove('is-transitioning');
            };


            // --- LOGIKA RE-INISIALISASI SWIPER (PERBAIKAN BUG) ---
            let swiper; // Deklarasikan variabel swiper di scope yang lebih tinggi

            // Simpan konfigurasi Swiper dalam sebuah objek agar bisa digunakan kembali
            const swiperConfig = { 
                loop: true, 
                spaceBetween: 10,
                slidesPerView: 1.5, 
                centeredSlides: true, 
                grabCursor: true, 
                slideToClickedSlide: false, // DIREVISI: dinonaktifkan untuk kontrol manual
                speed: 800,
                observer: true,
                observeParents: true,
                autoplay: {
                    delay: 3000,
                    disableOnInteraction: true,
                },
                pagination: { el: '#featured-portfolio .swiper-pagination', clickable: true }, 
                navigation: { nextEl: '#featured-portfolio .swiper-button-next', prevEl: '#featured-portfolio .swiper-button-prev' }, 
                breakpoints: { 
                    768: { slidesPerView: 2.5, spaceBetween: 15 },
                    1024: { slidesPerView: 3.5, spaceBetween: 15 }
                } 
            };

            // Logika untuk memulai ulang autoplay
            let autoplayRestartTimeout;
            const scheduleAutoplayRestart = () => {
                clearTimeout(autoplayRestartTimeout);
                autoplayRestartTimeout = setTimeout(() => {
                    if (swiper && !swiper.destroyed && swiper.autoplay && !swiper.autoplay.running) {
                        swiper.autoplay.start();
                    }
                }, 3000);
            };

            // Fungsi untuk membuat atau membuat ulang slider
            function initSwiper() {
                if (swiper) swiper.destroy(true, true);
                swiper = new Swiper('#featured-portfolio .swiper-container', swiperConfig);
                swiper.on('dragEnd', scheduleAutoplayRestart);
            }

            initSwiper();
            portfolioSection.querySelector('.swiper-button-next').addEventListener('click', scheduleAutoplayRestart);
            portfolioSection.querySelector('.swiper-button-prev').addEventListener('click', scheduleAutoplayRestart);
            portfolioSection.querySelector('.swiper-pagination').addEventListener('click', scheduleAutoplayRestart);
            
            // --- Inisialisasi Slider Klien dihapus dari JS, sekarang dikontrol oleh CSS ---

            // --- Inisialisasi dan Populasi Galeri Layanan (DIREVISI) ---
            const initServiceGalleries = () => {
                document.querySelectorAll('.service-gallery-swiper').forEach(swiperContainer => {
                    const sliderId = swiperContainer.id;
                    const items = serviceGalleries[sliderId];
                    const swiperWrapper = swiperContainer.querySelector('.swiper-wrapper');
                    const parentPageId = swiperContainer.closest('.service-page').id;

                    if (items && swiperWrapper) {
                        swiperWrapper.innerHTML = items.map((item, index) => {
                             // Membuat ID unik untuk setiap item galeri
                            const subGalleryId = `${sliderId.replace('-slider', '')}-${index + 1}`;
                            
                            // Menambahkan data ke database sub-galeri
                            subGalleryData[subGalleryId] = {
                                title: item.title,
                                returnPage: parentPageId,
                                images: Array.from({length: 12}, (_, i) => `${item.image.split('?')[0]}?text=${encodeURIComponent(item.title)}+${i+1}`)
                            };

                            return `
                            <div class="swiper-slide">
                                <div class="service-gallery-card service-detail-btn" data-id="${subGalleryId}">
                                    <img src="${item.image}" loading="lazy" alt="${item.title}">
                                    <div class="overlay"></div>
                                    <div class="card-content">
                                        <h3 class="text-white text-xl font-bold">${item.title}</h3>
                                    </div>
                                </div>
                            </div>
                        `}).join('');
                    }
                    
                    const galleryBlock = swiperContainer.parentElement;
                    new Swiper(swiperContainer, {
                        loop: true, spaceBetween: 15, slidesPerView: 'auto', centeredSlides: true,
                        grabCursor: true, slideToClickedSlide: true, speed: 800, observer: true, observeParents: true,
                        navigation: { nextEl: galleryBlock.querySelector('.swiper-button-next'), prevEl: galleryBlock.querySelector('.swiper-button-prev') },
                        pagination: { el: galleryBlock.querySelector('.swiper-pagination'), clickable: true },
                        on: { init: (swiper) => { swiper.slideToLoop(3, 0, false); } }
                    });
                });
            };
            initServiceGalleries();

            // --- Fungsi Smooth Scroll ---
            const smoothScrollTo = (targetSelector, duration = 1300) => {
                const targetElement = document.querySelector(targetSelector);
                if (!targetElement) return;
                const navbarHeight = document.getElementById('navbar')?.offsetHeight || 0;
                const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - navbarHeight + 100;
                const startPosition = window.pageYOffset;
                const distance = targetPosition - startPosition;
                let startTime = null;
                const easeInOutQuad = (t, b, c, d) => { t /= d / 2; if (t < 1) return c / 2 * t * t + b; t--; return -c / 2 * (t * (t - 2) - 1) + b; };
                const animation = (currentTime) => { if (startTime === null) startTime = currentTime; const timeElapsed = currentTime - startTime; const run = easeInOutQuad(timeElapsed, startPosition, distance, duration); window.scrollTo(0, run); if (timeElapsed < duration) requestAnimationFrame(animation); };
                requestAnimationFrame(animation);
            };

            // --- LOGIKA TRANSISI HALAMAN & POPULASI DATA ---
            const showDetailPage = (portfolioId) => {
                const data = portfolioData[portfolioId];
                if (!data) return;
                lockScroll(); // Kunci scrollbar di awal
                lastScrollPosition = window.scrollY;
                detailCategory.textContent = data.category;
                detailTitle.textContent = data.title;
                detailDescription.textContent = data.description;
                detailGalleryGrid.innerHTML = '';
                data.images.forEach((imgSrc, index) => {
                    const item = document.createElement('div');
                    item.className = 'gallery-item';
                    const img = document.createElement('img');
                    img.src = imgSrc;
                    img.alt = `${data.title} - Gambar ${index + 1}`;
                    img.loading = 'lazy';
                    img.addEventListener('click', () => openLightbox(imgSrc));
                    item.appendChild(img);
                    detailGalleryGrid.appendChild(item);
                });
                mainPage.classList.add('is-animating-out');
                setTimeout(() => {
                    overlay.style.opacity = '1';
                    setTimeout(() => {
                        mainPage.classList.add('hidden');
                        portfolioDetailPage.classList.remove('hidden');
                        window.scrollTo(0, 0);
                        overlay.style.opacity = '0';
                        requestAnimationFrame(() => portfolioDetailPage.classList.add('visible'));
                        mainPage.classList.remove('is-animating-out');
                        setTimeout(unlockScroll, 500); // Buka kunci setelah animasi selesai
                    }, 500);
                }, 1100);
            };

            const hideDetailPage = (restoreScroll = true) => {
                lockScroll(); // Kunci scrollbar di awal
                // HIDE SLIDER IMMEDIATELY to prevent flash of old state
                portfolioSection.style.opacity = 0;
                portfolioSection.classList.add('slider-interactions-disabled');
                overlay.style.opacity = '1';
                portfolioDetailPage.classList.add('is-animating-out');
                portfolioDetailPage.classList.remove('visible');
                setTimeout(() => {
                    portfolioDetailPage.classList.add('hidden');
                    portfolioDetailPage.classList.remove('is-animating-out');
                    mainPage.classList.add('is-animating-in');
                    mainPage.classList.remove('hidden');
                    if (restoreScroll) {
                        window.scrollTo({ top: lastScrollPosition, behavior: 'instant' });
                    } else {
                        window.scrollTo({ top: 0, behavior: 'instant' });
                    }
                    overlay.style.opacity = '0';
                    requestAnimationFrame(() => {
                        mainPage.classList.remove('is-animating-in');
                        setTimeout(() => {
                            initSwiper();
                            scheduleAutoplayRestart();
                            
                            portfolioSection.classList.remove('slider-interactions-disabled');

                            // Fade the newly reset slider back in for a smooth dissolve effect
                            portfolioSection.style.transition = 'opacity 0.6s ease';
                            portfolioSection.style.opacity = 1;
                            
                            // Clean up the inline style after the transition ends to avoid conflicts
                            setTimeout(() => {
                                portfolioSection.style.transition = '';
                            }, 600);
                            
                            // PERBAIKAN: Inisialisasi ulang kanvas gelembung
                            const bubbleContainer = document.getElementById('bubble-canvas-container');
                            destroyBubbleSimulation();
                            initBubbleSimulation(bubbleContainer);
                            
                            // PERBAIKAN: Refresh video background
                            const videoIframe = document.getElementById('hero-video-iframe');
                            if (videoIframe) {
                                const videoSrc = videoIframe.src;
                                videoIframe.src = videoSrc; // Ini akan memuat ulang iframe
                            }

                            unlockScroll(); // Buka kunci di akhir
                        }, 1100); // DELAY DITINGKATKAN untuk memastikan browser selesai render
                    });
                }, 1000);
            };

            // --- FUNGSI TRANSISI HALAMAN LAYANAN ---
            const showServicePage = (pageId) => {
                const targetPage = document.getElementById(pageId);
                if (!targetPage) return;
                lockScroll(); // Kunci scrollbar di awal
                lastScrollPosition = window.scrollY;
                mainPage.classList.add('is-animating-out');
                setTimeout(() => {
                    overlay.style.opacity = '1';
                    setTimeout(() => {
                        mainPage.classList.add('hidden');
                        targetPage.classList.remove('hidden');
                        window.scrollTo(0, 0);
                        overlay.style.opacity = '0';
                        mainPage.classList.remove('is-animating-out');
                        setTimeout(unlockScroll, 500); // Buka kunci setelah animasi
                    }, 500);
                }, 1100);
            };

            const hideGenericPage = (pageElement, restoreScroll = true) => {
                 lockScroll(); // Kunci scrollbar di awal
                 overlay.style.opacity = '1';
                 setTimeout(() => {
                    pageElement.classList.add('hidden');
                    mainPage.classList.add('is-animating-in');
                    mainPage.classList.remove('hidden');
                    if (restoreScroll) {
                        window.scrollTo({ top: lastScrollPosition, behavior: 'instant' });
                    } else {
                        window.scrollTo({ top: 0, behavior: 'instant' });
                    }
                    overlay.style.opacity = '0';
                     requestAnimationFrame(() => {
                        mainPage.classList.remove('is-animating-in');
                        // FIX: Restart sliders after returning to the main page
                        setTimeout(() => {
                            initSwiper();
                            scheduleAutoplayRestart();
                             // Client swiper restart logic removed

                            // PERBAIKAN: Inisialisasi ulang kanvas gelembung
                            const bubbleContainer = document.getElementById('bubble-canvas-container');
                            destroyBubbleSimulation();
                            initBubbleSimulation(bubbleContainer);

                            // PERBAIKAN: Refresh video background
                            const videoIframe = document.getElementById('hero-video-iframe');
                             if (videoIframe) {
                                const videoSrc = videoIframe.src;
                                videoIframe.src = videoSrc; // Ini akan memuat ulang iframe
                            }

                            unlockScroll(); // Buka kunci di akhir
                        }, 1100); // DELAY DITINGKATKAN untuk memastikan browser selesai render
                    });
                }, 500);
            };

            // --- FUNGSI TRANSISI HALAMAN DETAIL GALERI LAYANAN (BARU) ---
            const showServiceDetailPage = (subGalleryId) => {
                const data = subGalleryData[subGalleryId];
                if (!data) return;
                
                const currentServicePage = document.getElementById(data.returnPage);
                if (!currentServicePage) return;

                lockScroll(); // Kunci scrollbar di awal
                returnToServicePageId = data.returnPage; // Simpan halaman asal
                serviceDetailTitle.textContent = data.title;
                serviceDetailGalleryGrid.innerHTML = '';
                data.images.forEach((imgSrc, index) => {
                    const item = document.createElement('div');
                    item.className = 'gallery-item';
                    const img = document.createElement('img');
                    img.src = imgSrc;
                    img.alt = `${data.title} - Gambar ${index + 1}`;
                    img.loading = 'lazy';
                    img.addEventListener('click', () => openLightbox(imgSrc));
                    item.appendChild(img);
                    serviceDetailGalleryGrid.appendChild(item);
                });

                overlay.style.opacity = '1';
                setTimeout(() => {
                    currentServicePage.classList.add('hidden');
                    serviceGalleryDetailPage.classList.remove('hidden');
                    window.scrollTo(0, 0);
                    overlay.style.opacity = '0';
                    setTimeout(unlockScroll, 500); // Buka kunci setelah animasi
                }, 500);
            };

            const hideServiceDetailPage = () => {
                const returnPage = document.getElementById(returnToServicePageId);
                if (!returnPage) return;

                lockScroll(); // Kunci scrollbar di awal
                overlay.style.opacity = '1';
                setTimeout(() => {
                    serviceGalleryDetailPage.classList.add('hidden');
                    returnPage.classList.remove('hidden');
                    window.scrollTo(0, 0);
                    overlay.style.opacity = '0';
                    returnToServicePageId = ''; // Reset ID
                    setTimeout(unlockScroll, 500); // Buka kunci setelah animasi
                }, 500);
            };


            // --- Fungsi Lightbox ---
            const openLightbox = (src) => { lightboxImage.src = src; lightbox.classList.remove('opacity-0', 'pointer-events-none'); };
            const closeLightbox = () => { lightbox.classList.add('opacity-0', 'pointer-events-none'); };
            
            // --- Event Listeners ---

            // --- Theme Toggler Logic (REVISED FOR INSTANT ANIMATION) ---
            const themeToggleButton = document.getElementById('theme-toggle');
            const navbar = document.getElementById('navbar');
            const transitionWrapper = document.createElement('div');
            const transitionCircle = document.createElement('div');
            
            transitionWrapper.id = 'theme-transition-wrapper';
            transitionCircle.id = 'theme-transition-circle';
            transitionWrapper.appendChild(transitionCircle);
            navbar.insertBefore(transitionWrapper, navbar.firstChild);

            let isThemeAnimating = false;

            themeToggleButton.addEventListener('click', () => {
                if (isThemeAnimating) return;
                isThemeAnimating = true;

                // 1. Tambahkan class sementara untuk mengaktifkan transisi warna dengan jeda pada navbar
                document.body.classList.add('theme-is-changing');

                // 2. Tentukan mode target SEBELUM mengubah class utama
                const isChangingToLight = !document.body.classList.contains('light-mode');
                
                // 3. Hitung parameter animasi liquid
                const btnRect = themeToggleButton.getBoundingClientRect();
                const navbarRect = navbar.getBoundingClientRect();
                const x = btnRect.left + btnRect.width / 2 - navbarRect.left;
                const y = btnRect.top + btnRect.height / 2 - navbarRect.top;

                const corners = [
                    {x: 0, y: 0},
                    {x: navbarRect.width, y: 0},
                    {x: 0, y: navbarRect.height},
                    {x: navbarRect.width, y: navbarRect.height}
                ];
                const maxDist = Math.max(...corners.map(corner => Math.hypot(corner.x - x, corner.y - y)));
                const finalSize = maxDist * 2;
                
                // 4. Mulai animasi liquid background, yang akan menjadi transisi background navbar
                transitionWrapper.style.filter = "url('#gooey')";
                transitionCircle.style.backgroundColor = isChangingToLight ? 'rgba(250, 204, 21, 0.9)' : 'rgba(10, 25, 47, 0.9)';
                transitionCircle.style.width = `${finalSize}px`;
                transitionCircle.style.height = `${finalSize}px`;
                transitionCircle.style.top = `${y - maxDist}px`;
                transitionCircle.style.left = `${x - maxDist}px`;
                transitionCircle.style.transform = 'scale(0)';
                transitionCircle.style.transition = 'transform 0.8s cubic-bezier(0.65, 0, 0.35, 1)';

                requestAnimationFrame(() => {
                    transitionCircle.style.transform = 'scale(1)';
                });
                
                // 5. Ubah class pada body. Ini akan memulai transisi fade pada konten halaman secara paralel.
                document.body.classList.toggle('light-mode');

                // 6. Setelah animasi liquid selesai, atur state akhir dan bersihkan.
                transitionCircle.addEventListener('transitionend', () => {
                    // Atur background permanen pada navbar
                    if (isChangingToLight) {
                        navbar.style.backgroundColor = 'rgba(250, 204, 21, 0.9)';
                    } else {
                        navbar.style.backgroundColor = ''; // Hapus style inline agar kembali ke default CSS
                    }

                    // Inisialisasi ulang simulasi bubble dengan warna baru
                    const bubbleContainer = document.getElementById('bubble-canvas-container');
                    destroyBubbleSimulation();
                    initBubbleSimulation(bubbleContainer);
                    
                    // Reset lingkaran animasi untuk klik berikutnya
                    transitionCircle.style.transition = 'none';
                    transitionCircle.style.transform = 'scale(0)';
                    transitionWrapper.style.filter = 'none';

                    // Hapus class sementara setelah semua selesai
                    document.body.classList.remove('theme-is-changing');
                    isThemeAnimating = false;
                }, { once: true });
            });


            swiperWrapper.addEventListener('click', (e) => {
                const clickedSlide = e.target.closest('.swiper-slide');
                if (!clickedSlide) return;

                if (clickedSlide.classList.contains('swiper-slide-active')) {
                    // Jika kartu yang aktif (di tengah) diklik, buka halaman detail
                    const clickedCard = clickedSlide.querySelector('.portfolio-card');
                    if (clickedCard?.dataset.id) {
                        showDetailPage(clickedCard.dataset.id);
                    }
                } else {
                    // Jika kartu di samping yang diklik, geser slider ke kartu tersebut
                    const slideIndex = parseInt(clickedSlide.dataset.swiperSlideIndex, 10);
                    if (swiper && typeof swiper.slideToLoop === 'function' && !isNaN(slideIndex)) {
                        swiper.slideToLoop(slideIndex);
                    }
                }
            });
            backFromDetailBtn.addEventListener('click', () => hideDetailPage(true));
            showAboutUsBtn.addEventListener('click', (e) => { e.preventDefault(); showServicePage('about-us-page'); }); 
            
            serviceGalleryBtns.forEach(btn => {
                btn.addEventListener('click', (e) => { e.preventDefault(); showServicePage(btn.dataset.target); });
            });

            // Listener untuk klik kartu galeri layanan (DIREVISI)
            document.body.addEventListener('click', function(e) {
                const card = e.target.closest('.service-detail-btn');
                if (card && card.dataset.id) {
                    const slide = card.closest('.swiper-slide');
                    // Hanya buka halaman detail jika kartu yang diklik adalah kartu yang aktif (di tengah).
                    // Jika tidak, slider akan otomatis bergeser ke kartu yang diklik.
                    if (slide && slide.classList.contains('swiper-slide-active')) {
                        showServiceDetailPage(card.dataset.id);
                    }
                }
            });

            backFromServiceDetailBtn.addEventListener('click', hideServiceDetailPage);

            closeLightboxBtn.addEventListener('click', closeLightbox);
            lightbox.addEventListener('click', (e) => { if (e.target === lightbox) closeLightbox(); });

            scrollLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    const targetId = this.getAttribute('href');
                    
                    // Filter out buttons that open specific pages, as they have their own dedicated listeners.
                    const isPageOpener = this.id === 'show-about-us-btn' || this.classList.contains('service-gallery-btn');
                    if (isPageOpener) return;
                    
                    if (targetId && targetId.startsWith('#') && targetId.length > 1) {
                         e.preventDefault();
                         const activePage = document.querySelector('.page:not(#main-page):not(.hidden)');
                         
                         if (activePage) {
                             // User is on a sub-page and wants to go back to the main page to scroll to a section.
                             let transitionTime = 600; // Default for hideGenericPage
                             
                             // Special case: if on the deepest level (service gallery detail),
                             // we must hide it AND its parent service page before showing main.
                             if (activePage.id === 'service-gallery-detail-page') {
                                 const parentPage = document.getElementById(returnToServicePageId);
                                 if (parentPage) parentPage.classList.add('hidden');
                                 hideGenericPage(activePage, false); // Hide the detail page, don't restore scroll
                             } else if (activePage.id === 'portfolio-detail-page') {
                                 hideDetailPage(false); // Hide portfolio, don't restore scroll
                                 transitionTime = 1100; // Use longer time for this animation
                             } else {
                                 // This covers service pages (e.g., wedding) and the about us page.
                                 hideGenericPage(activePage, false); // Hide the page, don't restore scroll
                             }
                             
                             setTimeout(() => {
                                 smoothScrollTo(targetId);
                             }, transitionTime);
                         } else {
                            // Already on the main page, just scroll.
                            smoothScrollTo(targetId);
                         }
                    }
                });
            });

            // --- Logika Accordion di Halaman About Us ---
            document.querySelectorAll('.toggle-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const content = button.nextElementSibling; 
                    const icon = button.querySelector('.toggle-icon');
                    if (content.style.maxHeight && content.style.maxHeight !== '0px') {
                        content.style.maxHeight = '0px'; 
                        content.classList.remove('opacity-100'); 
                        content.classList.add('opacity-0'); 
                        icon.classList.remove('rotate-180');
                    } else {
                        content.style.maxHeight = (content.scrollHeight + 10) + "px"; 
                        content.classList.add('opacity-100'); 
                        content.classList.remove('opacity-0'); 
                        icon.classList.add('rotate-180');
                    }
                });
            });

            // --- Mobile Menu Logic ---
            const mobileMenuButton = document.getElementById('mobile-menu-button'); const mobileMenu = document.getElementById('mobile-menu'); const menuOpenIcon = document.getElementById('menu-open-icon'); const menuCloseIcon = document.getElementById('menu-close-icon'); const mobileMenuLinks = document.querySelectorAll('.mobile-menu-link');
            const toggleMenu = () => { mobileMenu.classList.toggle('hidden'); menuOpenIcon.classList.toggle('hidden'); menuCloseIcon.classList.toggle('hidden'); };
            mobileMenuButton.addEventListener('click', toggleMenu);
            mobileMenuLinks.forEach(link => { link.addEventListener('click', (e) => { e.preventDefault(); if (!mobileMenu.classList.contains('hidden')) toggleMenu(); const targetId = link.getAttribute('href'); setTimeout(() => { const activePage = document.querySelector('.page:not(#main-page):not(.hidden)'); if (activePage) { if(activePage.id === 'portfolio-detail-page') hideDetailPage(); else if(activePage.id === 'service-gallery-detail-page') hideServiceDetailPage(); else hideGenericPage(activePage); setTimeout(() => smoothScrollTo(targetId), 1100); } else { smoothScrollTo(targetId); } }, 300); }); });

            // --- SIMULASI BUBBLE MATTER.JS (REFACTORED FOR STABILITY) ---
            const { Engine, Render, Runner, World, Bodies, Mouse, MouseConstraint, Events, Constraint } = Matter;
            let matterEngine, matterRunner, matterRender, lastCanvasWidth;

            const destroyBubbleSimulation = () => {
                const container = document.getElementById('bubble-canvas-container');
                if (matterRender && matterRender.canvas) matterRender.canvas.remove();
                if (matterRunner) Runner.stop(matterRunner);
                if (matterRender) Render.stop(matterRender);
                if (matterEngine) { World.clear(matterEngine.world); Engine.clear(matterEngine); }
                if (container) { container.innerHTML = ''; container.removeAttribute('data-initialized'); }
            };

            const initBubbleSimulation = (container) => {
                if (!container || container.dataset.initialized) return;
                container.dataset.initialized = 'true';
                const words = ['Profesional', 'Kreatif', 'Cepat', 'Terpercaya', 'Memukau', 'Sinematik', 'Berpengalaman', 'Inovatif', 'Responsif', 'Bercerita'];
                matterEngine = Engine.create(); const world = matterEngine.world; matterEngine.world.gravity.y = 0.1;
                const containerWidth = container.clientWidth; const containerHeight = container.clientHeight; lastCanvasWidth = containerWidth;
                matterRender = Render.create({ element: container, engine: matterEngine, options: { width: containerWidth, height: containerHeight, wireframes: false, background: 'transparent' } }); Render.run(matterRender);
                matterRunner = Runner.create(); Runner.run(matterRunner, matterEngine);
                const wallOptions = { isStatic: true, render: { visible: false } };
                World.add(world, [ Bodies.rectangle(containerWidth / 2, containerHeight + 25, containerWidth, 50, wallOptions), Bodies.rectangle(containerWidth / 2, -25, containerWidth, 50, wallOptions), Bodies.rectangle(containerWidth + 25, containerHeight / 2, 50, containerHeight, wallOptions), Bodies.rectangle(-25, containerHeight / 2, 50, containerHeight, wallOptions) ]);
                const allItemsToRender = []; const titleBodies = []; const titleProperties = []; const titleParts = ["Kualitas Kami", "Dalam", "Setiap Proyek"];
                const isLightMode = document.body.classList.contains('light-mode');
                titleParts.forEach((part, index) => {
                    const isMobile = containerWidth < 768;
                    const fontSize = isMobile ? `bold ${Math.min(containerWidth / 15, 36)}px Poppins` : `bold ${Math.min(containerWidth / 20, 48)}px Poppins`;
                    const titleWidth = part.length * (isMobile ? 15 : 20) + (isMobile ? 60 : 80); const titleHeight = isMobile ? 60 : 80;
                    let xPos, yPos;
                    if (isMobile) { xPos = containerWidth / 2; yPos = 80 + index * 90; } else { xPos = (containerWidth / (titleParts.length + 1)) * (index + 1); yPos = 80; if (index === 1) yPos = 150; }
                    const titleBody = Bodies.rectangle(xPos, yPos, titleWidth, titleHeight, { chamfer: { radius: isMobile ? 15 : 20 }, isStatic: false, density: 0.005, render: { fillStyle: 'transparent' }, customText: part, customFontSize: fontSize, customFillStyle: isLightMode ? '#0a192f' : '#e6f1ff' });
                    titleBodies.push(titleBody); titleProperties.push({width: titleWidth, height: titleHeight, x: xPos, y: yPos}); allItemsToRender.push(titleBody);
                });
                World.add(world, titleBodies);
                if (containerWidth < 768) {
                    const anchorTopX = containerWidth / 2; const anchorTopY = 0;
                    const constraintTop = Constraint.create({ bodyA: titleBodies[0], pointA: { x: 0, y: -titleProperties[0].height / 4 }, pointB: { x: anchorTopX, y: anchorTopY }, stiffness: 0.1, length: 60, render: { strokeStyle: 'rgba(250, 204, 21, 0.5)', lineWidth: 2 } }); World.add(world, [constraintTop]);
                    const constraintMid = Constraint.create({ bodyA: titleBodies[1], pointA: { x: 0, y: -titleProperties[1].height / 4 }, bodyB: titleBodies[0], pointB: { x: 0, y: titleProperties[0].height / 4 }, stiffness: 0.1, length: 50, render: { strokeStyle: 'rgba(250, 204, 21, 0.5)', lineWidth: 2 } }); World.add(world, constraintMid);
                    const constraintBottom = Constraint.create({ bodyA: titleBodies[2], pointA: { x: 0, y: -titleProperties[2].height / 4 }, bodyB: titleBodies[1], pointB: { x: 0, y: titleProperties[1].height / 4 }, stiffness: 0.1, length: 50, render: { strokeStyle: 'rgba(250, 204, 21, 0.5)', lineWidth: 2 } }); World.add(world, constraintBottom);
                } else {
                    const halfWidth = containerWidth / 2; const point1_x = halfWidth - Math.min(halfWidth * 0.7, 350); const point2_x = halfWidth - Math.min(halfWidth * 0.2, 80); const point3_x = halfWidth + Math.min(halfWidth * 0.7, 350);
                    const anchorOffset1 = titleProperties[0].width / 2 - 20; const constraint1A = Constraint.create({ bodyA: titleBodies[0], pointA: { x: -anchorOffset1, y: 0 }, pointB: { x: point1_x, y: 0 }, stiffness: 0.02, length: 80, render: { strokeStyle: 'rgba(250, 204, 21, 0.5)', lineWidth: 2 } }); const constraint1B = Constraint.create({ bodyA: titleBodies[0], pointA: { x: anchorOffset1, y: 0 }, pointB: { x: point2_x, y: 0 }, stiffness: 0.02, length: 80, render: { strokeStyle: 'rgba(250, 204, 21, 0.5)', lineWidth: 2 } }); World.add(world, [constraint1A, constraint1B]);
                    const anchorOffset3 = titleProperties[2].width / 2 - 20; const constraint3B = Constraint.create({ bodyA: titleBodies[2], pointA: { x: anchorOffset3, y: 0 }, pointB: { x: point3_x, y: 0 }, stiffness: 0.02, length: 80, render: { strokeStyle: 'rgba(250, 204, 21, 0.5)', lineWidth: 2 } }); World.add(world, [constraint3B]);
                    const constraint2A = Constraint.create({ bodyA: titleBodies[1], pointA: { x: -titleProperties[1].width / 2 + 20, y: 0 }, bodyB: titleBodies[0], pointB: { x: titleProperties[0].width / 2 - 20, y: 0 }, stiffness: 0.02, length: 80, render: { strokeStyle: 'rgba(250, 204, 21, 0.5)', lineWidth: 2 } }); const constraint2B = Constraint.create({ bodyA: titleBodies[1], pointA: { x: titleProperties[1].width / 2 - 20, y: 0 }, bodyB: titleBodies[2], pointB: { x: -titleProperties[2].width / 2 + 20, y: 0 }, stiffness: 0.02, length: 80, render: { strokeStyle: 'rgba(250, 204, 21, 0.5)', lineWidth: 2 } }); World.add(world, [constraint2A, constraint2B]);
                }
                words.forEach((word) => { const textWidth = word.length * 10 + 40; const rectHeight = 50; const bubble = Bodies.rectangle( Math.random() * (containerWidth - textWidth) + textWidth / 2, Math.random() * (containerHeight - rectHeight - 250) + rectHeight / 2 + 200, textWidth, rectHeight, { chamfer: { radius: 25 }, restitution: 0.5, friction: 0.3, density: 0.001, render: { fillStyle: '#facc15' }, customText: word, customFontSize: 'bold 16px Poppins', customFillStyle: '#0a192f' } ); World.add(world, bubble); allItemsToRender.push(bubble); });
                const mouse = Mouse.create(matterRender.canvas); const mouseConstraint = MouseConstraint.create(matterEngine, { mouse: mouse, constraint: { stiffness: 0.005, render: { visible: false } } }); mouse.element.removeEventListener("mousewheel", mouse.mousewheel); mouse.element.removeEventListener("DOMMouseScroll", mouse.mousewheel); World.add(world, mouseConstraint); matterRender.mouse = mouse;
                Events.on(matterRender, 'afterRender', () => { const context = matterRender.context; context.textAlign = 'center'; context.textBaseline = 'middle'; allItemsToRender.forEach(item => { if (item && item.customText) { context.font = item.customFontSize; context.fillStyle = item.customFillStyle; context.save(); context.translate(item.position.x, item.position.y); context.rotate(item.angle); context.fillText(item.customText, 0, 0); context.restore(); } }); });
            };

            let resizeTimeout;
            window.addEventListener('resize', () => { clearTimeout(resizeTimeout); resizeTimeout = setTimeout(() => { const container = document.getElementById('bubble-canvas-container'); if (!container) return; const newContainerWidth = container.clientWidth; if (lastCanvasWidth && Math.abs(newContainerWidth - lastCanvasWidth) > 10) { destroyBubbleSimulation(); initBubbleSimulation(container); } }, 250); });
            const waitForElement = (selector) => { return new Promise(resolve => { const element = document.querySelector(selector); if (element && element.clientWidth > 0) return resolve(element); const observer = new ResizeObserver(entries => { if (entries[0].target.clientWidth > 0) { observer.disconnect(); resolve(entries[0].target); } }); if (element) observer.observe(element); }); };
            waitForElement('#bubble-canvas-container').then(container => { initBubbleSimulation(container); });
        });
    </script>
</body>
</html>




